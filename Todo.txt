Refactored some of the code
(input to many functions is now a ray instead of pos / dir)
cleaned up variable names a bit


Added a material class to record objects material properties
intersecting a ray with an object now returns a CollisionResult instead of just the 't' parameter.  This has pros and cons.  The advantage is that it is often better to calculate all properties in one go (for example imagine tracing to hit a mesh, then trying a calculate the normal, this would be difficult / slow).  The disadvantage is that certian properties (such as uv) are calculated even if they are not needed.  One solution to this would be to have a quick intersect (just t) and a slower full calculation.

Created generic object containers.
These can be powerful, in the future I'll add bounds testing to them and also transforms, improving both performance and creating a scene graph structure.


todo:
[*] refraction
[*] uv / texture mapping (planar, sphericial)
[*] cubes



Feature list:
[*] Cylinder primative
[*] Refractive objects
[*] New materials system including bitmap textures.
[*] Normal mapping :)
[*] implment new camera class
[*] progressive render with 2 passses
[*] anti aliasing
[*] mandelbrot procedual texture.
[*] cornell box scene 
[*] basic camera movement
[*] multiple lights
[*] transparient shadows
[*] blury reflections 
[*] camera defocus

Maybe do in the future?

Todo:

[ ] global illumination model (ambient occlusion)

[ ] local transforms (scale, rotation, translation)

[ ] shortcut keys for effects

[ ] container bounds (just a sphere is fine, this will help optimize boxes for example)

[ ] polygon meshes
[ ] tidy up code style

[ ] Blury reflection / refraction.
[ ] seperate out the lighting model from the trace

Code clean up
[ ] headers on all files
[ ] maybe use VS to fixup formatting.

If time:
[ ] sub surface scattering :) 


Bugs:
[fixed] shadows look wrong          <- yes, fixed, was only checking up to 1 unit away...
[fixed] checkerboard on inf plane   <- fixed with scaling of texture
[fixed] lighting on inf plane.      <- specular light was totally wrong on everything!
[done] test multiple lights
[..] still getting shadow specs :(
[..] colored shadows not working

box is missing a face


Scenes:
cornell
dragon mesh
something outside

Debug modes?
Depth?
Different channels?


References

rock from https://3dtextures.me/2016/08/01/rough-rock-015/
wood from https://meocloud.pt/link/01816bc8-a534-458e-b4e3-e94fe8c2ee6d/Wood_plank_007_SD/

png from ... ?
perlin noise from ... ?